(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(2),s=n.n(r),c=(n(13),n(3)),o=n(4),l=n(6),u=n(5),m=n(7),d=(n(15),{textAlign:"center"}),h={width:"100%",height:"300px"},f={display:"flex",flexDirection:"row",justifyContent:"space-between"},b={display:"flex",flexDirection:"row",justifyContent:"space-between"},k=function(t){var e=t.data,n=t.onNext,a=t.onPrevious,r=t.onLike,s=t.onUnlike,c=e.songs.map(function(t,e){return i.a.createElement("li",{key:e,className:"list-group-item",style:f},i.a.createElement("h6",null,t.name),i.a.createElement("div",null,i.a.createElement("button",{type:"button",className:"btn btn-light btn-sm",onClick:function(){r()}},i.a.createElement("i",{className:"far fa-heart"})),i.a.createElement("button",{type:"button",className:"btn btn-light btn-sm",onClick:function(){s()}},i.a.createElement("i",{className:"far fa-thumbs-down"})),i.a.createElement("button",{type:"button",className:"btn btn-light btn-sm",disabled:!0},t.like)))});return i.a.createElement("div",{key:e.artist,className:"card",style:d},i.a.createElement("div",null,i.a.createElement("img",{className:"card-img-top",src:e.image,style:h,alt:"300px"})),i.a.createElement("div",{className:"card-body",style:b},i.a.createElement("button",{type:"button",className:"btn btn-light btn-sm",onClick:function(){a()}},i.a.createElement("i",{className:"fas fa-angle-double-left"})),i.a.createElement("h5",{className:"card-title"},e.artist),i.a.createElement("button",{type:"button",className:"btn btn-light btn-sm",onClick:function(){n()}},i.a.createElement("i",{className:"fas fa-angle-double-right"}))),i.a.createElement("ul",{className:"list-group list-group-flush"},c))},p=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).state={data:[],currentIndex:22},t}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentWillMount",value:function(){var t=this;fetch("http://ws.audioscrobbler.com/2.0/?method=chart.gettopartists&api_key=5c8e2c09c2a2396e6d24a126d15464fc&format=json").then(function(t){return t.json()}).then(function(e){Promise.all(e.artists.artist.map(function(t){return fetch("http://ws.audioscrobbler.com/2.0/?method=artist.gettoptracks&artist=".concat(t.name,"&api_key=5c8e2c09c2a2396e6d24a126d15464fc&format=json")).then(function(t){return t.json()})})).then(function(n){var a=n.map(function(t,n){return{artist:e.artists.artist[n].name,image:e.artists.artist[n].image[4]["#text"],songs:t.toptracks.track.filter(function(t){return t["@attr"].rank<=10}).map(function(t){return{name:t.name,like:0}})}});t.setState({data:a})})})}},{key:"handleNext",value:function(){this.setState({currentIndex:this.state.currentIndex+1})}},{key:"handlePrevious",value:function(){this.setState({currentIndex:this.state.currentIndex-1})}},{key:"handleUnlike",value:function(){var t=this.state,e=t.data;e[t.currentIndex].songs.like-=1,this.setState({data:e})}},{key:"handleLike",value:function(){var t=this.state,e=t.data;e[t.currentIndex].songs.like+=1,this.setState({data:e})}},{key:"render",value:function(){var t=this,e={margin:"auto",width:"50%"},n=this.state,a=n.data,r=n.currentIndex,s=a.map(function(n,a){return i.a.createElement("div",{key:a,style:e},i.a.createElement(k,{data:n,onNext:t.handleNext.bind(t),onPrevious:t.handlePrevious.bind(t),onUnlike:t.handleUnlike.bind(t),onLike:t.handleLike.bind(t)}),i.a.createElement("div",null))})[r];return i.a.createElement("div",null,s)}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},8:function(t,e,n){t.exports=n(17)}},[[8,2,1]]]);
//# sourceMappingURL=main.a277447c.chunk.js.map